# Workflow 2: Deep Dive Learning

## Purpose

Help users deepen their understanding in specific subtopics of an existing roadmap through a process of progressive and contextual questions. The system asks questions that progressively increase in depth, allowing the user to gain context and knowledge iteratively until they decide to stop.

**IMPORTANT: Language Adaptation**
All questions and responses generated by this workflow must be in the same language the user writes in. If the user writes in Spanish, respond in Spanish. If they write in English, respond in English. If they use another language, match that language.

## When to Activate

This workflow activates when:
- User mentions "deepen", "learn more about", "explore in depth", "understand better"
- User has an existing roadmap and wants to work on a specific subtopic
- Phrases like: "I want to understand better [roadmap subtopic]", "deepen my knowledge of [concept]"

## Prerequisites

- An existing roadmap (generated by Workflow 1 or any learning plan file)
- Path to the roadmap file to read its content and retrieve relevant context before starting with questions
- Identification of the specific subtopic/concept to deepen

## Output

- Interactive conversation that expands the user's knowledge
- **No limit on questions** until the user decides to stop
- Progressive context and knowledge built iteratively

---

## Process Overview

```
Phase 1: Identify Roadmap and Subtopic
   ↓
Phase 2: Analyze Subtopic Context
   ↓
Phase 3: Generate Progressive Questions
   ↓
Phase 4: Iterative Loop (unlimited)
   ↓
Phase 5: Closure and Summary
```

---

## PHASE 1: Identify Roadmap and Subtopic

### Step 1.1: Request Roadmap Path

If the user has NOT provided the roadmap path:

**Question:** (Respond in user's language)
"To deepen your understanding of a specific topic, I need the path to your learning roadmap. Where is it located?"

**Expected response examples:**
- `~/learning/AI_Agents_learning_plan.md`
- `~/projects/Kubernetes_learning_plan.md`
- `./React_Frontend_learning_plan.md`

### Step 1.2: Read the Roadmap

Once you have the path:

```
Use: file_read to read the complete roadmap content
```

**If the file doesn't exist or can't be read:**
- Inform the user clearly
- Ask for an alternative path or verify the file exists
- Offer help: "Would you like to create a new roadmap first?"

### Step 1.3: Identify the Subtopic

If the user has NOT specified which subtopic to deepen:

**Option A (if `AskUserQuestion` is available):**
- Extract all concepts/subtopics from the roadmap
- Present them as Single-select options
- Question: (in user's language) "Which of these concepts would you like to explore in depth?"

**Option B (if `AskUserQuestion` is NOT available):**
- List the main concepts from the roadmap
- Ask: (in user's language) "Which of these concepts would you like to explore in depth?"

**Example:**

```
I've read your roadmap on AI Agents. I see these main concepts:

Level 1:
1. LLMs 101 - What they are and how they work
2. Tokenization and Embeddings
3. Your first simple Agent
4. Basic API Integration

Level 2:
5. Advanced Prompting and Chains
6. RAG - Retrieval + Generation
7. Multi-Agent Architectures
8. Memory & Context Management

Level 3:
9. Fine-tuning & LoRA
10. Enterprise Agent Design
11. Optimization and Performance
12. Advanced use cases

Which of these concepts would you like to explore in depth?
```

---

## PHASE 2: Analyze Subtopic Context

Once the subtopic is identified, analyze:

### 2.1: Extract Information from Roadmap

From the selected subtopic, identify:
- **Concept description** in the roadmap
- **Level** it's at (Beginner, Intermediate, Advanced)
- **Related concepts** mentioned
- **Associated practical project** (if exists)
- **Recommended resources** (if exist)

### 2.2: Determine Initial Depth Level

Based on the concept's level:

- **If Level 1 (Beginner):** Start with fundamental questions
- **If Level 2 (Intermediate):** Start with application questions
- **If Level 3 (Advanced):** Start with advanced use case questions

### 2.3: Identify Exploration Areas

For the subtopic, identify key areas to explore through questions:

**Exploration categories:**
1. **Fundamentals:** What is it? Why does it exist?
2. **How it works:** How does it function internally?
3. **Application:** When and how is it used?
4. **Relationships:** How does it connect with other concepts?
5. **Edge cases:** What happens in boundary situations?
6. **Best practices:** What are the recommended patterns?
7. **Common errors:** What mistakes are commonly made?
8. **Advanced cases:** How is it used in complex contexts?

---

## PHASE 3: Generate Progressive Questions

### Principles for Generating Questions

Questions must be:

1. **Progressive:** Each question builds on the previous answer
2. **Contextual:** Related to the roadmap and user's objectives
3. **Open-ended:** Encourage explanation, not yes/no answers
4. **Specific:** Not vague or too broad
5. **Challenging but achievable:** Push boundaries without being impossible

**IMPORTANT: Language Adaptation**
All questions must be asked in the language the user is writing in. If they write in Spanish, ask in Spanish. If they write in English, ask in English.

### Question Structure by Depth Level

#### Depth Level 1 (Fundamental Questions)

**Objective:** Establish basic understanding

**Example questions:**
- "What problem does [concept] solve?"
- "Why is [concept] important in the context of [roadmap topic]?"
- "What are the main components of [concept]?"
- "How would you describe [concept] to someone unfamiliar with [topic]?"

#### Depth Level 2 (How-It-Works Questions)

**Objective:** Understand internal mechanisms

**Example questions:**
- "How does [concept] work internally?"
- "What happens step-by-step when [action related to concept]?"
- "What are the key technical parts of [concept]?"
- "If you had to implement [concept] from scratch, what would you need?"

#### Depth Level 3 (Application Questions)

**Objective:** Connect theory with practice

**Example questions:**
- "In what specific situations would you use [concept]?"
- "How would you apply [concept] in [user's context from roadmap]?"
- "What alternatives exist for [concept] and when would you prefer each one?"
- "Can you think of a real example where [concept] would be critical?"

#### Depth Level 4 (Relationship Questions)

**Objective:** Connect with other concepts

**Example questions:**
- "How does [concept] relate to [another roadmap concept]?"
- "What other concepts do you need to understand to master [concept]?"
- "If [concept A] fails, how does it affect [concept B]?"
- "How do [concept] and [another concept] integrate in a real system?"

#### Depth Level 5 (Edge Case Questions)

**Objective:** Explore boundaries and complex scenarios

**Example questions:**
- "What happens if [extreme condition] with [concept]?"
- "What are the limitations of [concept]?"
- "In what cases does [concept] NOT work well?"
- "How would you handle [complex situation] using [concept]?"

#### Depth Level 6 (Best Practices Questions)

**Objective:** Consolidate expert knowledge

**Example questions:**
- "What are the most common mistakes when using [concept]?"
- "What patterns or best practices do you know for [concept]?"
- "If you had to teach [concept] to someone, how would you structure it?"
- "What optimizations or improvements would you apply to [concept] in production?"

#### Depth Level 7+ (Specialized Questions)

**Objective:** Unlimited exploration based on user responses

**Example questions:**
- Questions based on user's specific responses
- Questions connecting multiple concepts
- Questions about advanced use cases
- Questions requiring synthesis of multiple ideas

---

## PHASE 4: Iterative Loop (Unlimited)

### 4.1: Ask the First Question

Based on analysis from Phase 2 and categories from Phase 3:

**USE `AskUserQuestion` IF AVAILABLE**

If not, use regular text question.

**Recommended format:** (in user's language)

```
Perfect, let's deepen our understanding of [subtopic].

[Brief context of subtopic based on roadmap]

To start, [first question level 1-2]

Take your time to answer in your own words. The more detailed your answer, the better we can deepen.
```

### 4.2: Analyze User's Response

After each user response:

1. **Evaluate understanding level:**
   - Is the answer clear and precise?
   - Are there confusions or conceptual errors?
   - Is the user's understanding superficial or deep?

2. **Identify gaps:**
   - What parts of the concept did they NOT mention?
   - Are there areas they need to explore more?
   - Are there connections they're not seeing?

3. **Determine next question:**
   - If answer is solid → Increase depth (next level)
   - If answer has gaps → Deepen in that specific area
   - If answer is superficial → Reinforce with question at same level

### 4.3: Provide Brief Feedback (Optional)

**Only if useful for learning:**

- Recognize strengths in the response
- Clarify small confusions if present
- **DO NOT give the complete answer** (goal is for user to build knowledge)

**Example:** (in user's language)

```
Excellent, I see you understand the main function of [concept].

One clarification: [small point to clarify if needed]

Now, let's deepen further...
```

### 4.4: Ask the Next Question

Generate the next question based on:
- User's response
- Current depth level
- Areas still not explored
- Roadmap context

**USE `AskUserQuestion` IF AVAILABLE**

### 4.5: Repeat Loop

Continue the cycle:
```
Question → User Response → Analysis → Feedback (optional) → Next Question
```

**NO LIMIT** until the user decides to stop.

### 4.6: Allow User to Stop

After every 3-4 questions, offer the option to continue:

**Continuation question:** (in user's language)
"Would you like to continue deepening our understanding of [subtopic] or would you prefer to stop for now?"

**If user says "continue":** Continue with more questions

**If user says "stop":** Go to Phase 5 (Closure)

---

## PHASE 5: Closure and Summary

When the user decides to stop:

### 5.1: Generate Summary of What Was Explored

**Format:** (in user's language)

```
We've explored [subtopic] in depth. Here's a summary of what we covered:

**Areas Explored:**
- [Area 1: brief description]
- [Area 2: brief description]
- [Area 3: brief description]
...

**Strengths in Your Understanding:**
- [Strength 1]
- [Strength 2]

**Areas to Continue Exploring:**
- [Suggested area 1]
- [Suggested area 2]
```

### 5.2: Suggest Next Steps using `AskUserQuestion`

**MANDATORY: USE `AskUserQuestion`**

**Question (via AskUserQuestion):** (in user's language)
"We've deepened your understanding of **[subtopic]**. What's your next step?"

**Options:**
1. **Explore another concept**
   - Description: Thoroughly explore another concept from the roadmap (return to Workflow 2)
2. **Validate understanding with Feynman**
   - Description: Explain what you learned and receive detailed feedback (go to Workflow 3)
3. **Generate practice**
   - Description: Create a hands-on activity to apply what you learned (go to Workflow 4)
4. **Stop for now**
   - Description: End here and continue at your own pace

### Step 5.3: Act According to Response

**If responds Option 1 (Another concept):**
- Say: "Perfect, let's deepen another concept. Which concept from the roadmap would you like to explore?"
- Return to PHASE 1 (request roadmap path again or use the one already loaded)
- Repeat Deep Dive cycle with new concept

**If responds Option 2 (Feynman):**
- Say: "Great idea. Let's validate your understanding with the Feynman Technique."
- Say: "Would you like to review your understanding of **[subtopic]** that we just explored, or another concept?"
- Activate Workflow 3 (Feynman Review)

**If responds Option 3 (Generate practice):**
- Say: "Great, let's create a practical activity to apply what you learned."
- Say: "Would you like to generate an activity about **[subtopic]** that we just explored?"
- Activate Workflow 4 (Practice Generator)

**If responds Option 4 (Stop):**
- Say goodbye positively
- Say: "Perfect, you have a solid understanding of **[subtopic]**. When you're ready to explore another concept, practice, or validate your understanding, I'll be here. Keep going!"

---

## Quality Guidelines

### Characteristics of Effective Questions

✅ **Good questions:**
- "How would you explain the difference between RAG and fine-tuning to someone who only knows basic prompting?"
- "In your context from the roadmap, when would you use RAG instead of fine-tuning?"
- "What happens with embeddings when the document is too long for the context window?"

❌ **Bad questions:**
- "Do you understand RAG?" (too vague, yes/no answer)
- "What is RAG?" (too basic without context)
- "Explain everything about RAG" (too broad, no focus)

### User Adaptation

**Always consider:**
- User's level (from roadmap)
- Application context (from roadmap)
- Previous responses in this session
- Focus areas (from roadmap)

---

## Example Session

### Example: Deepen "RAG" from an AI Agents Roadmap

```
User: "I have a roadmap at ~/ai_agents_plan.md and want to deepen my understanding of RAG"

Claude:
[Reads roadmap]
[Identifies that RAG is at Level 2 - Intermediate]
[Extracts context: user works with LLMs, goal is to build agents]

"Perfect, I see RAG is at Level 2 of your AI Agents roadmap.
I see you've already covered LLM and embedding fundamentals at Level 1,
so we can deepen directly.

To start, explain in your own words: What specific problem does RAG solve
that can't be solved with just prompting?"

User: [Responds with their understanding]

Claude:
[Analyzes response]
"Good, I see you understand that RAG allows you to use external information.

Now let's deepen: When you say 'search for relevant information', how do you
think the system determines what's 'relevant'? What's technically happening
in that search step?"

User: [Responds]

Claude:
[Analyzes]
"Exactly, embeddings are key here. You mentioned similarity, but similarity
of what exactly? How is that similarity measured in vector space?"

[Continue loop...]

[After 4 questions]
"Would you like to continue deepening our understanding of RAG or would you prefer to stop?"

User: "Continue"

Claude:
"Perfect. Now that you understand how retrieval works, let's think about
edge cases: What happens if your vector store has 10 million documents?
How does that affect the process?"

[Continue loop...]
```

---

## Error Handling

### If the roadmap doesn't exist
- Inform user clearly
- Offer to create one new (Workflow 1)
- Offer to work without roadmap (generic questions)

### If the subtopic isn't in the roadmap
- Ask if they want to explore it anyway
- If yes → proceed with general questions
- If no → suggest another subtopic from roadmap

### If user doesn't respond clearly
- Rephrase the question
- Give an example of expected response
- Simplify the question

### If user gets stuck
- Offer hints without giving complete answer
- Connect with concepts they already know (from roadmap)
- Offer to switch to another subtopic

---

## Success Criteria

This workflow works correctly when:

- ✅ Questions are progressive and build on previous answers
- ✅ User gains deep understanding of the subtopic
- ✅ Multiple facets of the concept are explored (fundamentals, application, relationships, edge cases)
- ✅ User has control over when to stop
- ✅ Final summary captures what was explored and suggests next steps
- ✅ Questions are contextualized to roadmap and user's objectives

---

**Version:** 1.0
**Workflow ID:** 02_deep_dive
